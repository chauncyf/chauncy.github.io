---
layout: default
title: Photos
permalink: /photos
---

{% include cover.html title="Photography" img="../assets/DSC01881C.jpg" %}

<div class="d-flex justify-content-center align-items-center my-5" id="spinner">
    <div class="spinner-grow text-secondary" role="status">
        <span class="sr-only">Loading...</span>
    </div>
</div>

<div class="container-fluid container-fade-in spinner my-4">
    <div class="card-columns">

        {% assign images = site.static_files | where: "image", true | where_exp: "image", "image.basename !=
        'sanfrancisco'" %}
        {% for image in images %}

        <div class="card mb-3 shadow-sm" id="{{ image.basename }}"
             onclick="open_modal('{{ image.basename }}', '{{ image.path }}')">
            <img src="{{ image.path }}" class="card-img" alt="{{ image.basename }}">
            <div class="mask">
                <div class="card-img-overlay">
                    <p class="card-text">{{ image.basename }}</p>
                </div>
            </div>
        </div>

        {% endfor %}
    </div>
</div>

<div class="modal fade" id="modal-img" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-pic" role="document">
        <div class="modal-content">
            <div class="modal-body p-0">
                <img class="img-fluid" src="" alt="">
                <div class="card-img-nav">
                    <div class="row align-items-center">
                        <div class="col pl-4">
                            <button type="button" class="btn" onclick="prev_pic()">
                                <i class="fas fa-chevron-left"></i></button>
                        </div>
                        <div class="col pr-4 text-right">
                            <button type="button" class="btn" onclick="next_pic()">
                                <i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
                <div class="card-img-overlay">
                    <p class="card-text"></p>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    let $modal_img = $('#modal-img img');

    function render_img(img_name, img_path, out = 300) {
        $modal_img.fadeOut(out, () => {
            $modal_img.attr({'src': img_path, 'alt': img_name})
        }).fadeIn(500);
        $('#modal-img p').text(img_name);

        return $.Deferred((d) => {
            $modal_img.on('load', () => {
                d.resolve()
            })
        }).promise();
    }

    function open_modal(img_name, img_path) {
        if ($(window).width() >= 768) {
            render_img(img_name, img_path, 0).done(() => {
                $('#modal-img').modal('show');
            });
        }
    }

    function prev_pic() {
        let $new_image = $('#' + $modal_img.attr('alt')).prev().find('img');
        if ($new_image.length !== 0) {
            render_img($new_image.attr('alt'), $new_image.attr('src'));
        }
    }

    function next_pic() {
        let $new_image = $('#' + $modal_img.attr('alt')).next().find('img');
        if ($new_image.length !== 0) {
            render_img($new_image.attr('alt'), $new_image.attr('src'));
        }
    }

    $(document).keydown(function (e) {
        switch (e.which) {
            case 37: // left
                if (($('#modal-img').data('bs.modal') || {})._isShown) {
                    prev_pic();
                }
                break;
            case 39: // right
                if (($('#modal-img').data('bs.modal') || {})._isShown) {
                    next_pic();
                }
                break;
            default:
                return; // exit this handler for other keys
        }
        e.preventDefault(); // prevent the default action (scroll / move caret)
    });
</script>